package com.cipres.mrBayesPlugin.utilities;

import java.util.Collection;

import org.json.simple.JSONObject;
import org.ngbw.directclient.CiCipresException;
import org.ngbw.directclient.CiClient;
import org.ngbw.directclient.CiJob;

import com.cipres.mrBayesPlugin.models.UserModel;
import com.cipres.mrBayesPlugin.models.UserModel.Job;

public class CipresUtilities {
	
	public static JSONObject listJobs(CiClient myClient, UserModel user, JSONObject data) throws CiCipresException
	{
		Job newJob = user.new Job();
		Collection<CiJob> jobs = myClient.listJobs(); 
		for (CiJob job : jobs)
		{
			newJob.setJobName(job.getClientJobName());
			newJob.setJobStage(job.getJobStage());
			newJob.setDate(job.getDateSubmitted());
			
			System.out.println("Results: "
					+ newJob.getJobName() + "\n" 
					+ newJob.getJobStage() + "\n" 
					+ newJob.getDate());
			
		}
		
		return data;
	}

}

